@using System.ComponentModel.DataAnnotations;
@using System.ComponentModel.DataAnnotations.Schema;
@using Microsoft.IdentityModel;
@using Microsoft.AspNetCore.Authentication.Cookies;
@using Microsoft.AspNetCore.Authentication
@using WypozyczalniaSamochdow.Models;
@using System.Security.Claims

@page "/logout"
@inject IHttpContextAccessor HttpContextAccessor
@inject NavigationManager Navigation

<h3>Wylogowanie</h3>

<p>Trwa wylogowywanie...</p>

@code {
    protected override async Task OnInitializedAsync()
    {
        await HttpContextAccessor.HttpContext.SignOutAsync(CookieAuthenticationDefaults.AuthenticationScheme);
        Navigation.NavigateTo("/login");
    }
}
